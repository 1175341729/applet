package com.xinchao.entrytask.bus.config;

//import com.ctrip.framework.apollo.model.ConfigChangeEvent;
//import com.ctrip.framework.apollo.spring.annotation.ApolloConfigChangeListener;
//import com.ctrip.framework.apollo.spring.annotation.EnableApolloConfig;
import lombok.extern.slf4j.Slf4j;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.cloud.context.scope.refresh.RefreshScope;
import org.springframework.context.annotation.Configuration;

//@Configuration
//@EnableApolloConfig
//@Slf4j
public class AppConfig {
//    @SuppressWarnings("SpringJavaInjectionPointsAutowiringInspection")
//    @Autowired
//    private RefreshScope refreshScope;
//
//    @Autowired
//    TestConfig testConfig;
//    @ApolloConfigChangeListener
//    public void onChange(ConfigChangeEvent changeEvent) {
//        log.info("before refresh{}",testConfig.getBatch());
//        refreshScope.refreshAll();
//        log.info("after refresh{}",testConfig.getBatch());
//    }
}